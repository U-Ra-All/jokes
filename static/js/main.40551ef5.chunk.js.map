{"version":3,"sources":["components/jokes/JokeForm.module.css","components/layout/Header.module.css","components/comments/NewCommentForm.module.css","components/jokes/JokeList.module.css","components/jokes/JokeItem.module.css","components/UI/Loader.module.css","components/jokes/NoJokesFound.module.css","components/comments/Comments.module.css","components/comments/CommentItem.module.css","components/comments/CommentsList.module.css","components/jokes/HighlightedJoke.module.css","components/UI/Card.module.css","components/layout/Layout.module.css","components/jokes/JokeItem.js","components/jokes/JokeList.js","hooks/use-http.js","utils/firebase-api.js","components/UI/Loader.js","components/jokes/NoJokesFound.js","pages/Jokes.js","components/comments/NewCommentForm.js","components/comments/CommentItem.js","components/comments/CommentsList.js","components/comments/Comments.js","components/jokes/HighlightedJoke.js","pages/JokeDetails.js","components/UI/Card.js","components/jokes/JokeForm.js","pages/AddJoke.js","components/layout/Header.js","components/layout/Layout.js","pages/NotFound.js","App.js","index.js"],"names":["module","exports","JokeItem","props","location","useLocation","className","styles","item","text","topic","to","pathname","id","JokeList","history","useHistory","console","log","jokes","isAscending","isSortingAscending","URLSearchParams","search","get","sortedJokes","sort","joke1","joke2","onClick","push","list","map","joke","httpReducer","httpState","action","type","data","error","status","errorMessage","Error","useHttp","sendRequest","isRequestSending","initialHttpState","useReducer","dispatch","sendHttpRequest","useCallback","requestData","responseData","message","FIREBASE_ROOT_DOMAIN","getJokes","fetch","response","json","ok","key","convertedJokes","getJoke","jokeId","convertedJoke","addJoke","jokeData","method","body","JSON","stringify","headers","addComment","commentData","commentId","username","getComments","convertedComments","comment","Loader","NoJokesFound","Jokes","loadedJokes","useEffect","length","NewCommentForm","commentTextRef","useRef","onCommentAdded","submitFormHandler","event","preventDefault","enteredText","current","value","form","onSubmit","control","htmlFor","rows","ref","actions","CommentItem","CommentsList","comments","Comments","useState","isAddingComment","setIsAddingComment","params","useParams","loadedComments","commentAddedHandler","HighlightedJoke","JokeDetails","routeMatch","useRouteMatch","loadedJoke","path","exact","url","Card","card","children","JokeForm","isFormFocused","setIsFormFocused","topicInputRef","textInputRef","when","onFocus","enteredTopic","onAddJoke","isLoading","loading","AddJoke","Header","header","nav","activeClassName","active","Layout","main","NotFound","App","ReactDOM","createRoot","document","getElementById","render"],"mappings":"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","file":"static/js/main.40551ef5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"JokeForm_form__2b79U\",\"loading\":\"JokeForm_loading__zY0YG\",\"control\":\"JokeForm_control__2aGaK\",\"actions\":\"JokeForm_actions__nvU90\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2otSh\",\"nav\":\"Header_nav__1k-0_\",\"active\":\"Header_active__WHMYj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"NewCommentForm_form__2Te8b\",\"loading\":\"NewCommentForm_loading__2veC2\",\"control\":\"NewCommentForm_control__3NVeP\",\"actions\":\"NewCommentForm_actions__2fwWP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"JokeList_list__3sVwQ\",\"sort\":\"JokeList_sort__2bF2C\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"JokeItem_item__3B9n8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"lds-hourglass\":\"Loader_lds-hourglass__1_TKi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"no-jokes\":\"NoJokesFound_no-jokes__3BDHJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"comments\":\"Comments_comments__iZX-v\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"CommentItem_item__24mbD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"comments\":\"CommentsList_comments__valp0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"joke\":\"HighlightedJoke_joke__3ssc2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__1m44e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Layout_main__auk_r\"};","import { Link, useLocation } from 'react-router-dom';\nimport styles from './JokeItem.module.css';\n\nconst JokeItem = (props) => {\n  const location = useLocation();\n  return (\n    <li className={styles.item}>\n      <figure>\n        <blockquote>\n          <p>{props.text}</p>\n        </blockquote>\n        <figcaption>{props.topic}</figcaption>\n      </figure>\n      <Link className='btn' to={`${location.pathname}/${props.id}`}>\n        Expand\n      </Link>\n    </li>\n  );\n};\n\nexport default JokeItem;\n","import { Fragment } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\n\nimport JokeItem from './JokeItem';\nimport styles from './JokeList.module.css';\n\nconst sortJokes = (jokes, isAscending) => {\n  return jokes.sort((joke1, joke2) => {\n    if (isAscending) {\n      return joke1.id > joke2.id ? 1 : -1;\n    } else {\n      return joke1.id < joke2.id ? 1 : -1;\n    }\n  });\n};\n\nconst JokeList = (props) => {\n  const history = useHistory();\n  const location = useLocation();\n  console.log(location);\n\n  const queryParams = new URLSearchParams(location.search);\n  const sortingOrder = queryParams.get('sort');\n  const isSortingAscending = sortingOrder === 'asc';\n  const sortedJokes = sortJokes(props.jokes, isSortingAscending);\n\n  const toggleSortingHandler = () => {\n    history.push({\n      pathname: location.pathname,\n      search: `?sort=${isSortingAscending ? 'desc' : 'asc'}`,\n    });\n\n    // history.push(\n    //   `${location.pathname}?sort=${(isSortingAscending ? 'desc' : 'asc')}`\n    // );\n  };\n\n  return (\n    <Fragment>\n      <div className={styles.sort}>\n        <button onClick={toggleSortingHandler}>\n          Sort Jokes {isSortingAscending ? 'Descending' : 'Ascending'}\n        </button>\n      </div>\n      <ul className={styles.list}>\n        {sortedJokes.map((joke) => (\n          <JokeItem\n            key={joke.id}\n            id={joke.id}\n            topic={joke.topic}\n            text={joke.text}\n          />\n        ))}\n      </ul>\n    </Fragment>\n  );\n};\n\nexport default JokeList;\n","import { useReducer, useCallback } from 'react';\n\nfunction httpReducer(httpState, action) {\n  switch (action.type) {\n    case 'send_request': {\n      return {\n        data: null,\n        error: null,\n        status: 'pending',\n      };\n    }\n    case 'success': {\n      return {\n        data: action.data,\n        error: null,\n        status: 'completed',\n      };\n    }\n    case 'error': {\n      return {\n        data: null,\n        error: action.errorMessage,\n        status: 'completed',\n      };\n    }\n    default: {\n      throw Error('Unknown action: ' + action.type);\n    }\n  }\n}\n\nfunction useHttp(sendRequest, isRequestSending = false) {\n  const initialHttpState = {\n    data: null,\n    error: null,\n    status: isRequestSending ? 'pending' : null,\n  };\n  const [httpState, dispatch] = useReducer(httpReducer, initialHttpState);\n\n  const sendHttpRequest = useCallback(\n    async function (requestData) {\n      dispatch({ type: 'send_request' });\n      try {\n        const responseData = await sendRequest(requestData);\n        dispatch({ type: 'success', data: responseData });\n      } catch (error) {\n        dispatch({\n          type: 'error',\n          errorMessage: error.message || 'Something went wrong!',\n        });\n      }\n    },\n    [sendRequest]\n  );\n\n  return {\n    sendHttpRequest,\n    ...httpState,\n  };\n}\n\nexport default useHttp;\n","const FIREBASE_ROOT_DOMAIN =\n  'https://react-course-http-8220d-default-rtdb.firebaseio.com';\n\nexport async function getJokes() {\n  const response = await fetch(`${FIREBASE_ROOT_DOMAIN}/jokes.json`);\n  const data = await response.json();\n\n  if (!response.ok) {\n    throw new Error(data.message || 'Jokes fetching error.');\n  }\n\n  const convertedJokes = [];\n\n  for (const key in data) {\n    const joke = {\n      id: key,\n      ...data[key],\n    };\n\n    convertedJokes.push(joke);\n  }\n\n  return convertedJokes;\n}\n\nexport async function getJoke(jokeId) {\n  const response = await fetch(`${FIREBASE_ROOT_DOMAIN}/jokes/${jokeId}.json`);\n  const data = await response.json();\n\n  if (!response.ok) {\n    throw new Error(data.message || 'Joke fetching error.');\n  }\n\n  const convertedJoke = {\n    id: jokeId,\n    ...data,\n  };\n\n  return convertedJoke;\n}\n\nexport async function addJoke(jokeData) {\n  const response = await fetch(`${FIREBASE_ROOT_DOMAIN}/jokes.json`, {\n    method: 'POST',\n    body: JSON.stringify(jokeData),\n    headers: {\n      'Content-Type': 'application/json',\n    },\n  });\n  const data = await response.json();\n\n  if (!response.ok) {\n    throw new Error(data.message || 'Joke adding error.');\n  }\n}\n\nexport async function addComment(requestData) {\n  const response = await fetch(\n    `${FIREBASE_ROOT_DOMAIN}/comments/${requestData.jokeId}.json`,\n    {\n      method: 'POST',\n      body: JSON.stringify(requestData.commentData),\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    }\n  );\n  const data = await response.json();\n\n  if (!response.ok) {\n    throw new Error(data.text || 'Comment adding error.');\n  }\n\n  return { commentId: data.username };\n}\n\nexport async function getComments(jokeId) {\n  const response = await fetch(\n    `${FIREBASE_ROOT_DOMAIN}/comments/${jokeId}.json`\n  );\n\n  const data = await response.json();\n\n  if (!response.ok) {\n    throw new Error(data.message || 'Comments fetching error.');\n  }\n\n  const convertedComments = [];\n\n  for (const key in data) {\n    const comment = {\n      id: key,\n      ...data[key],\n    };\n\n    convertedComments.push(comment);\n  }\n\n  return convertedComments;\n}\n","import styles from './Loader.module.css';\n\nconst Loader = () => {\n  return <div className={styles['lds-hourglass']}></div>;\n};\n\nexport default Loader;\n","import { Link } from 'react-router-dom';\nimport styles from './NoJokesFound.module.css';\n\nconst NoJokesFound = () => {\n  return (\n    <div className={styles['no-jokes']}>\n      <p>No jokes found!</p>\n      <Link to='/add-joke' className='btn'>\n        Add a Joke\n      </Link>\n    </div>\n  );\n};\n\nexport default NoJokesFound;\n","import JokeList from '../components/jokes/JokeList';\nimport useHttp from '../hooks/use-http';\nimport { getJokes } from '../utils/firebase-api';\nimport { useEffect } from 'react';\nimport Loader from '../components/UI/Loader';\nimport NoJokesFound from '../components/jokes/NoJokesFound';\n\n// const DUMMY_JOKES = [\n//   {\n//     id: 'j1',\n//     topic: 'Programming',\n//     text: `How many programmers does it take to change a light bulb?\n//     None – It’s a hardware problem`,\n//   },\n//   {\n//     id: 'j2',\n//     topic: 'General',\n//     text: `How many bones are in the human hand?\n//     A handful of them.`,\n//   },\n// ];\n\nconst Jokes = () => {\n  const {\n    sendHttpRequest,\n    status,\n    data: loadedJokes,\n    error,\n  } = useHttp(getJokes, true);\n\n  useEffect(() => {\n    sendHttpRequest();\n  }, [sendHttpRequest]);\n\n  if (status === 'pending') {\n    return (\n      <div className='centered'>\n        <Loader />\n      </div>\n    );\n  }\n\n  if (error) {\n    return <p className='centered focused'>{error}</p>;\n  }\n\n  if (status === 'completed' && (!loadedJokes || loadedJokes.length === 0)) {\n    return <NoJokesFound />;\n  }\n\n  return <JokeList jokes={loadedJokes} />;\n};\n\nexport default Jokes;\n","import { useRef, useEffect } from 'react';\nimport useHttp from '../../hooks/use-http';\nimport { addComment } from '../../utils/firebase-api';\nimport styles from './NewCommentForm.module.css';\nimport Loader from '../UI/Loader';\n\nconst NewCommentForm = (props) => {\n  const commentTextRef = useRef();\n\n  const { sendHttpRequest, status, error } = useHttp(addComment);\n\n  const { onCommentAdded } = props;\n\n  useEffect(() => {\n    if (status === 'completed' && !error) {\n      onCommentAdded();\n    }\n  }, [status, error, onCommentAdded]);\n\n  const submitFormHandler = (event) => {\n    event.preventDefault();\n\n    const enteredText = commentTextRef.current.value;\n\n    sendHttpRequest({\n      commentData: { text: enteredText },\n      jokeId: props.jokeId,\n    });\n  };\n\n  return (\n    <form className={styles.form} onSubmit={submitFormHandler}>\n      {status === 'pending' && (\n        <div className='centered'>\n          <Loader />\n        </div>\n      )}\n      <div className={styles.control} onSubmit={submitFormHandler}>\n        <label htmlFor='comment'>Your Comment</label>\n        <textarea id='comment' rows='5' ref={commentTextRef}></textarea>\n      </div>\n      <div className={styles.actions}>\n        <button className='btn'>Add Comment</button>\n      </div>\n    </form>\n  );\n};\n\nexport default NewCommentForm;\n","import styles from './CommentItem.module.css';\n\nconst CommentItem = (props) => {\n  return (\n    <li className={styles.item}>\n      <p>{props.text}</p>\n    </li>\n  );\n};\n\nexport default CommentItem;\n","import CommentItem from './CommentItem';\nimport styles from './CommentsList.module.css';\n\nconst CommentsList = (props) => {\n  return (\n    <ul className={styles.comments}>\n      {props.comments.map((comment) => (\n        <CommentItem key={comment.id} text={comment.text} />\n      ))}\n    </ul>\n  );\n};\n\nexport default CommentsList;\n","import { useState, useEffect, useCallback } from 'react';\nimport { useParams } from 'react-router-dom';\nimport styles from './Comments.module.css';\nimport NewCommentForm from './NewCommentForm';\nimport useHttp from '../../hooks/use-http';\nimport { getComments } from '../../utils/firebase-api';\nimport Loader from '../UI/Loader';\nimport CommentsList from './CommentsList';\n\nconst Comments = () => {\n  const [isAddingComment, setIsAddingComment] = useState(false);\n  const params = useParams();\n\n  const { jokeId } = params;\n\n  const {\n    sendHttpRequest,\n    status,\n    data: loadedComments,\n  } = useHttp(getComments);\n\n  useEffect(() => {\n    sendHttpRequest(jokeId);\n  }, [jokeId, sendHttpRequest]);\n\n  const startAddCommentHandler = () => {\n    setIsAddingComment(true);\n  };\n\n  const commentAddedHandler = useCallback(() => {\n    sendHttpRequest(jokeId);\n  }, [jokeId, sendHttpRequest]);\n\n  let comments;\n\n  if (status === 'pending') {\n    comments = (\n      <div className='centered'>\n        <Loader />\n      </div>\n    );\n  }\n\n  if (status === 'completed' && loadedComments && loadedComments.length > 0) {\n    comments = <CommentsList comments={loadedComments} />;\n  }\n\n  if (\n    status === 'completed' &&\n    (!loadedComments || loadedComments.length === 0)\n  ) {\n    comments = <p className='centered'>This joke doesn't have comments yet</p>;\n  }\n\n  return (\n    <section className={styles.comments}>\n      <h2>User Comments</h2>\n      {!isAddingComment && (\n        <button className='btn' onClick={startAddCommentHandler}>\n          Add a Comment\n        </button>\n      )}\n      {isAddingComment && (\n        <NewCommentForm\n          jokeId={params.jokeId}\n          onCommentAdded={commentAddedHandler}\n        />\n      )}\n      {comments}\n    </section>\n  );\n};\n\nexport default Comments;\n","import styles from './HighlightedJoke.module.css';\n\nconst HighlightedJoke = (props) => {\n  return (\n    <figure className={styles.joke}>\n      <p>{props.text}</p>\n      <figcaption>{props.topic}</figcaption>\n    </figure>\n  );\n};\n\nexport default HighlightedJoke;\n","import { Fragment, useEffect } from 'react';\nimport { useParams, Route, Link, useRouteMatch } from 'react-router-dom';\nimport Comments from '../components/comments/Comments';\nimport HighlightedJoke from '../components/jokes/HighlightedJoke';\nimport Loader from '../components/UI/Loader';\nimport useHttp from '../hooks/use-http';\nimport { getJoke } from '../utils/firebase-api';\n\n// const DUMMY_JOKES = [\n//   {\n//     id: 'j1',\n//     topic: 'Programming',\n//     text: `How many programmers does it take to change a light bulb?\n//     None – It’s a hardware problem`,\n//   },\n//   {\n//     id: 'j2',\n//     topic: 'General',\n//     text: `How many bones are in the human hand?\n//     A handful of them.`,\n//   },\n// ];\n\nconst JokeDetails = () => {\n  const routeMatch = useRouteMatch();\n  const params = useParams();\n  const { jokeId } = params;\n\n  const {\n    sendHttpRequest,\n    status,\n    data: loadedJoke,\n    error,\n  } = useHttp(getJoke, true);\n\n  useEffect(() => {\n    sendHttpRequest(jokeId);\n  }, [sendHttpRequest, jokeId]);\n\n  if (status === 'pending') {\n    return (\n      <div className='centered'>\n        <Loader />\n      </div>\n    );\n  }\n\n  if (error) {\n    return <p className='centered'>{error}</p>;\n  }\n\n  if (!loadedJoke.text) {\n    return <h1 className='centered'>Joke not found</h1>;\n  }\n\n  return (\n    <Fragment>\n      <HighlightedJoke text={loadedJoke.text} topic={loadedJoke.topic} />\n      <Route path={`${routeMatch.path}`} exact>\n        <div className='centered'>\n          <Link className='btn--empty' to={`${routeMatch.url}/comments`}>\n            Show Comments\n          </Link>\n        </div>\n      </Route>\n\n      <Route path={`${routeMatch.path}/comments`}>\n        <Comments />\n      </Route>\n    </Fragment>\n  );\n};\n\nexport default JokeDetails;\n","import styles from './Card.module.css';\n\nconst Card = (props) => {\n  return <div className={styles.card}>{props.children}</div>;\n};\n\nexport default Card;\n","import { Fragment, useRef, useState } from 'react';\nimport { Prompt } from 'react-router-dom';\n\nimport Card from '../UI/Card';\nimport Loader from '../UI/Loader';\nimport styles from './JokeForm.module.css';\n\nconst JokeForm = (props) => {\n  const [isFormFocused, setIsFormFocused] = useState(false);\n  const topicInputRef = useRef();\n  const textInputRef = useRef();\n\n  function submitFormHandler(event) {\n    event.preventDefault();\n\n    const enteredTopic = topicInputRef.current.value;\n    const enteredText = textInputRef.current.value;\n\n    props.onAddJoke({ topic: enteredTopic, text: enteredText });\n  }\n\n  const formFocusHandler = () => {\n    setIsFormFocused(true);\n  };\n\n  const sendDataHandler = () => {\n    setIsFormFocused(false);\n  };\n\n  return (\n    <Fragment>\n      <Prompt\n        when={isFormFocused}\n        message={(location) =>\n          'Do you really want to leave this page? If so, you will lost all data in the form!'\n        }\n      />\n      <Card>\n        <form\n          onFocus={formFocusHandler}\n          className={styles.form}\n          onSubmit={submitFormHandler}\n        >\n          {props.isLoading && (\n            <div className={styles.loading}>\n              <Loader />\n            </div>\n          )}\n\n          <div className={styles.control}>\n            <label htmlFor='topic'>Topic</label>\n            <input type='text' id='topic' ref={topicInputRef} />\n          </div>\n          <div className={styles.control}>\n            <label htmlFor='text'>Text</label>\n            <textarea id='text' rows='5' ref={textInputRef}></textarea>\n          </div>\n          <div className={styles.actions}>\n            <button onClick={sendDataHandler} className='btn'>\n              Add Joke\n            </button>\n          </div>\n        </form>\n      </Card>\n    </Fragment>\n  );\n};\n\nexport default JokeForm;\n","import JokeForm from '../components/jokes/JokeForm';\nimport { useHistory } from 'react-router-dom';\nimport useHttp from '../hooks/use-http';\nimport { addJoke } from '../utils/firebase-api';\nimport { useEffect } from 'react';\n\nconst AddJoke = () => {\n  const history = useHistory();\n  const { sendHttpRequest, status } = useHttp(addJoke);\n\n  useEffect(() => {\n    if (status === 'completed') {\n      history.push('/joke-list');\n    }\n  }, [status, history]);\n\n  const addJokeHandler = (jokeData) => {\n    sendHttpRequest(jokeData);\n  };\n\n  return (\n    <JokeForm isLoading={status === 'pending'} onAddJoke={addJokeHandler} />\n  );\n};\n\nexport default AddJoke;\n","import { NavLink } from 'react-router-dom';\nimport styles from './Header.module.css';\n\nconst Header = () => {\n  return (\n    <header className={styles.header}>\n      <nav className={styles.nav}>\n        <ul>\n          <li>\n            <NavLink to='/joke-list' activeClassName={styles.active}>\n              Jokes\n            </NavLink>\n          </li>\n          <li>\n            <NavLink to='/add-joke' activeClassName={styles.active}>\n              Add a Joke\n            </NavLink>\n          </li>\n        </ul>\n      </nav>\n    </header>\n  );\n};\n\nexport default Header;\n","import { Fragment } from 'react';\nimport Header from './Header';\nimport styles from './Layout.module.css';\n\nconst Layout = (props) => {\n  return (\n    <Fragment>\n      <Header />\n      <main className={styles.main}>{props.children}</main>\n    </Fragment>\n  );\n};\n\nexport default Layout;\n","const NotFound = () => {\n  return (\n    <section className='centered'>\n      <h1>Страница не найдена</h1>\n    </section>\n  );\n};\n\nexport default NotFound;\n","import { Route, Switch, Redirect } from 'react-router-dom';\nimport Jokes from './pages/Jokes';\nimport JokeDetails from './pages/JokeDetails';\nimport AddJoke from './pages/AddJoke';\nimport Layout from './components/layout/Layout';\nimport NotFound from './pages/NotFound';\n\nfunction App() {\n  return (\n    <Layout>\n      <Switch>\n        <Route path='/' exact>\n          <Redirect to='/joke-list' />\n        </Route>\n        <Route path='/joke-list' exact>\n          <Jokes />\n        </Route>\n        <Route path='/joke-list/:jokeId'>\n          <JokeDetails />\n        </Route>\n        <Route path='/add-joke'>\n          <AddJoke />\n        </Route>\n        <Route path='*'>\n          <NotFound />\n        </Route>\n      </Switch>\n    </Layout>\n  );\n}\n\nexport default App;\n","import ReactDOM from 'react-dom/client';\n\nimport './index.css';\nimport App from './App';\nimport { HashRouter } from 'react-router-dom';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <HashRouter>\n    <App />\n  </HashRouter>\n);\n"],"sourceRoot":""}